<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <title>Countdown und Flugstatus</title>
    <!-- Google Fonts Integration -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4A90E2;
            --secondary-color: #50E3C2;
            --background-color: #f0f4f8;
            --text-color: #333;
            --accent-color: #FF4500;
            --success-color: #28a745;
            --font-family: 'Roboto', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background: linear-gradient(135deg, var(--background-color) 0%, #ffffff 100%);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
        }

        h1 {
            margin: 20px 0 10px;
            font-size: 2.5em;
            color: var(--primary-color);
        }

        p {
            font-size: 2em;
            margin-bottom: 20px;
            text-shadow: 1px 1px rgba(0,0,0,0.1);
        }

        .timer {
            background: #fff;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            width: 90%;
            max-width: 600px;
        }

        .flight-container {
            position: relative;
            width: 90%;
            max-width: 1000px;
            height: 200px; /* Angepasste H√∂he f√ºr die Flugroute */
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: nowrap;
            overflow: hidden;
        }

        .airport-emoji {
            font-size: 5em; /* Gr√∂√üere Flughafensymbole */
            cursor: default;
            transition: transform 0.3s;
        }

        .airport-emoji:hover {
            transform: scale(1.2);
        }

        .flight-path {
            position: relative;
            flex: 1;
            height: 100%; /* Volle H√∂he innerhalb des Containers */
            margin: 0 40px;
        }

        .flight-path svg {
            width: 100%;
            height: 100%;
        }

        .flight-path path {
            fill: none;
            stroke: var(--secondary-color);
            stroke-width: 4;
            stroke-dasharray: 10,10; /* Gr√∂√üere gestrichelte Abst√§nde */
        }

        .airplane {
            position: absolute;
            top: 100px; /* Startposition in der Mitte der Flugroute */
            left: 0%;
            font-size: 3em; /* Gr√∂√üeres Flugzeug-Emoji */
            transition: transform 0.5s linear, top 0.5s linear, left 0.5s linear;
            transform: translate(-50%, -50%) rotate(0deg);
            pointer-events: none; /* Flugzeug ist nicht interaktiv */
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            h1 {
                font-size: 2em;
            }

            p {
                font-size: 1.5em;
            }

            .timer {
                padding: 20px 30px;
                max-width: 90%;
            }

            .flight-container {
                flex-direction: column;
                height: auto;
                padding: 20px 10px;
            }

            .flight-path {
                margin: 20px 0;
                width: 100%;
                height: 200px;
            }

            .airport-emoji {
                font-size: 4em;
                margin: 0 10px;
            }

            .flight-path path {
                stroke-width: 3;
                stroke-dasharray: 8,8;
            }

            .airplane {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="timer">
        <h1>Countdown bis zum Spatzianflug</h1>
        <p id="countdown">Lade...</p>
    </div>

    <div class="timer">
        <h1>Abwesenheit vom Spatzi</h1>
        <p id="elapsed">Lade...</p>
    </div>

    <div class="flight-container">
        <span class="airport-emoji">üõ´</span>
        <div class="flight-path">
            <svg viewBox="0 0 100 100">
                <!-- Definierte Flugroute von links nach rechts mit einer Kurve nach oben -->
                <path id="path" d="M0,100 Q50,0 100,100" />
            </svg>
            <div class="airplane" id="plane">‚úàÔ∏è</div>
        </div>
        <span class="airport-emoji">üõ¨</span>
    </div>

    <script>
        // Timer-Funktionen
        const startDate = new Date("Jan 1, 2025 12:00:00").getTime();
        const endDate = new Date("Mar 26, 2025 06:30:00").getTime();
        
        function updateTimers() {
            const now = new Date().getTime();
            
            // Countdown zum Zielflughafen
            const distance = endDate - now;
            if (distance >= 0) {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                document.getElementById("countdown").innerText =
                    `${days}T ${hours}h ${minutes}m ${seconds}s`;
            } else {
                document.getElementById("countdown").innerText = "Der Flug ist gelandet!";
            }

            // Vergangene Zeit seit Spatzi-Startdatum
            const elapsed = now - startDate;
            if (elapsed >= 0) {
                const daysPassed = Math.floor(elapsed / (1000 * 60 * 60 * 24));
                const hoursPassed = Math.floor((elapsed % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutesPassed = Math.floor((elapsed % (1000 * 60 * 60)) / (1000 * 60));
                const secondsPassed = Math.floor((elapsed % (1000 * 60)) / 1000);
                document.getElementById("elapsed").innerText =
                    `${daysPassed}T ${hoursPassed}h ${minutesPassed}m ${secondsPassed}s`;
            } else {
                document.getElementById("elapsed").innerText = "Startdatum noch nicht erreicht.";
            }
        }
        
        // Beim Laden sofort berechnen
        updateTimers();
        // Alle 1 Sekunde aktualisieren
        setInterval(updateTimers, 1000);

        // Flugzeuganimation entlang des SVG-Pfades
        const startTS = startDate;
        const endTS = endDate;

        function movePlane() {
            const now = new Date().getTime();
            const total = endTS - startTS;
            const elapsed = now - startTS;
            let progress = elapsed / total;
            if (progress < 0) progress = 0;
            if (progress > 1) progress = 1;

            // Berechne die Position entlang des Pfades
            const path = document.getElementById("path");
            const plane = document.getElementById("plane");
            const pathLength = path.getTotalLength();
            const point = path.getPointAtLength(progress * pathLength);

            // Setze die Position des Flugzeugs
            plane.style.left = `${point.x}%`;
            plane.style.top = `${point.y}%`;

            // Berechne die Richtung der Bewegung f√ºr die Rotation
            const delta = 0.1; // Kleiner Schritt f√ºr die Richtung
            let nextProgress = progress + (delta / pathLength);
            if (nextProgress > 1) nextProgress = 1;
            const nextPoint = path.getPointAtLength(nextProgress * pathLength);
            const angle = Math.atan2(nextPoint.y - point.y, nextPoint.x - point.x) * (180 / Math.PI);
            plane.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
        }

        // Initiale Position setzen
        movePlane();
        // Flugzeug alle 1 Sekunde bewegen
        setInterval(movePlane, 1000);
    </script>
</body>
</html>
